#### 4.3.4.5 Date Calculations

MySQL提供了几个函数，可用于对日期执行计算，例如，计算年龄或提取日期的部分内容。

要确定您的宠物是多少年，请使用TIMESTAMPDIFF（）函数。它的参数是你想要结果表示的单位，以及两个日期的差异。以下查询为每个宠物显示出生日期，当前日期和年龄（以年为单位）。使用别名（age）使最终输出列标签更有意义。

```
mysql>SELECT name, birth, CURDATE(),
    ->TIMESTAMPDIFF(YEAR,birth,CURDATE()) AS age
    ->FROM pet;
+----------+------------+------------+------+
| name     | birth      | CURDATE()  | age  |
+----------+------------+------------+------+
| Fluffy   | 1993-02-04 | 2003-08-19 |   10 |
| Claws    | 1994-03-17 | 2003-08-19 |    9 |
| Buffy    | 1989-05-13 | 2003-08-19 |   14 |
| Fang     | 1990-08-27 | 2003-08-19 |   12 |
| Bowser   | 1989-08-31 | 2003-08-19 |   13 |
| Chirpy   | 1998-09-11 | 2003-08-19 |    4 |
| Whistler | 1997-12-09 | 2003-08-19 |    5 |
| Slim     | 1996-04-29 | 2003-08-19 |    7 |
| Puffball | 1999-03-30 | 2003-08-19 |    4 |
+----------+------------+------------+------+
```

如果行以某种顺序显示，查询结果可以更容易扫描。这可以通过添加一个ORDER BY name子句来按名称对输出进行排序：

```
mysql>SELECT name, birth, CURDATE(),
    ->TIMESTAMPDIFF(YEAR,birth,CURDATE()) AS age
    ->FROM pet ORDER BY name;
+----------+------------+------------+------+
| name     | birth      | CURDATE()  | age  |
+----------+------------+------------+------+
| Bowser   | 1989-08-31 | 2003-08-19 |   13 |
| Buffy    | 1989-05-13 | 2003-08-19 |   14 |
| Chirpy   | 1998-09-11 | 2003-08-19 |    4 |
| Claws    | 1994-03-17 | 2003-08-19 |    9 |
| Fang     | 1990-08-27 | 2003-08-19 |   12 |
| Fluffy   | 1993-02-04 | 2003-08-19 |   10 |
| Puffball | 1999-03-30 | 2003-08-19 |    4 |
| Slim     | 1996-04-29 | 2003-08-19 |    7 |
| Whistler | 1997-12-09 | 2003-08-19 |    5 |
+----------+------------+------------+------+
```

要按年龄而不是名称对输出进行排序，只需使用不同的ORDER BY条件：

